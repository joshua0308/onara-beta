<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <!-- download phaser and socket.io on the client side -->
  <script src="//cdn.jsdelivr.net/npm/phaser@3.16.2/dist/phaser.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>

  <style>
    body {
      margin: 100px;
    }

    .button-wrapper {
      margin: 30px;
      display: flex;
      justify-content: center;
    }

    .button {
      width: 300px;
      height: 50px;
    }
  </style>
</head>

<body>
  <!-- entrypoint to the game files -->
  <script type="module" src="src/index.js"></script>
  <div id='game-wrapper'></div>
  <div class='button-wrapper'>
    <button id="join-button" class="button" type="button" onclick="joinRoom()">Join video chat!</button>
    <button id="logout-button" class="button" type="button" onclick="logout()">Logout</button>
  </div>
  <!-- firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-auth.js"></script>
  <script src="public/firebase.js"></script>
  <script>
  firebaseClient.auth().onAuthStateChanged((user) => {
    if (user) {
      console.log("debug: logged in", user.displayName, user.email);
    } else {
      window.location.replace('/login');
    }
  });

  function joinRoom() {
    window.location.href = window.location.origin + "/room/example";
  }

  function logout() {
    firebaseClient.auth().signOut();
  }

  </script>
</body>

</html>